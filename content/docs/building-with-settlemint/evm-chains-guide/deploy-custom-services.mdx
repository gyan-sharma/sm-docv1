---
title: Host dApp UI or custom services
description:
  How to deploy containerised application frontend or other custom services
---

import { Tabs, Tab } from "fumadocs-ui/components/tabs";
import { Callout } from "fumadocs-ui/components/callout";
import { Steps } from "fumadocs-ui/components/steps";
import { Card } from "fumadocs-ui/components/card";

<div style={{
  backgroundColor: "#e1eafd", 
  color: "#356fee", 
  padding: "0.5px 10px 10px 10px",
  borderRadius: "10px", 
  fontSize: "18px", 
  fontWeight: "bold",
  lineHeight: "1.2",
  textAlign: "left"
}}>
  Summary  
  <div style={{ fontSize: "16px", fontWeight: "normal", marginTop: "5px" }}>
To build a blockchain application, the first step is setting up a blockchain network with the correct number of validating and non-validating nodes. You can either deploy a permissioned network such as Hyperledger Besu or GoQuorum, or connect to an L1 or L2 Public Network like Ethereum, Polygon PoS, Hedera, Polygon zkEVM, Avalanche, Arbitrum, or Optimism. Both mainnet and testnet versions are available for public networks.

When creating an application on SettleMint, you will be prompted to select a network and assign it a name. By default, a first validating node is deployed along with the network, and you must assign a name to it as well. You may optionally provide an EC DSA P256 private key to use as custom key material for the node identity. If no key is provided, SettleMint will generate one automatically and save it in your private keys.

In SettleMint-managed (SaaS) mode, you will need to choose between a shared or dedicated cluster for deployment. You can also select a cloud provider and a data center of your choice. Additionally, you will have the option to select from small, medium, or large resource packs, which can be scaled up or down later as needed.

Before deploying the network, you will have the option to configure network settings and customize the genesis file. For most use cases, it is recommended to keep the default settings. Once configured, you can proceed with deployment. After a few minutes, your network manager and first node will be fully operational.

To enhance reliability, you should add more nodes to your network for fault tolerance. The best practice is to deploy four validator nodes and two non-validator nodes. Once the nodes are set up, adding a load balancer will help distribute network traffic efficiently and improve performance.

Once your network, nodes, and load balancer are running, you can access the Insights tab to integrate monitoring tools. For permissioned networks, you can add Blockscout Blockchain Explorer to track transactions and network activity. If you are using public EVM networks, publicly available blockchain explorers can be used instead.

</div>
</div>


## How to use custom deployments to host application frontend or other custom services in SettleMint platform

A Custom Deployment allows you to deploy your own Docker images, such as
frontend applications, on the SettleMint platform. This feature provides
flexibility for integrating custom solutions within your blockchain-based
applications.

## Create a Custom Deployment

<Tabs items={['Platform UI', 'SDK CLI', 'SDK JS']}>
  <Tab value="Platform UI">
    1. Prepare your container image and push it to a container registry (public or private).
    2. In the SettleMint platform, navigate to the Custom Deployments section.
    3. Click on the "Add Custom Deployment" button to create a new deployment.
    4. Provide the necessary details:
       - Container image path (e.g., registry.example.com/my-app:latest)
       - Container registry credentials (if using a private registry)
       - Environment variables (if required)
       - Custom domain information (if applicable)
    5. Configure any additional settings as needed.
    6. Click on 'Confirm' and wait for the Custom Deployment to be in the Running status.
  </Tab>

  <Tab value="SDK CLI">
    ```bash
    # Create a custom deployment
    settlemint platform create custom-deployment my-deployment \
      --application my-app \
      --image-repository registry.example.com \
      --image-name my-app \
      --image-tag latest \
      --port 3000 \
      --provider gcp \
      --region europe-west1

    # With environment variables
    settlemint platform create custom-deployment my-deployment \
      --application my-app \
      --image-repository registry.example.com \
      --image-name my-app \
      --image-tag latest \
      --env-vars NODE_ENV=production,DEBUG=false
    ```

  </Tab>

  <Tab value="SDK JS">
    ```typescript
    import { createSettleMintClient } from '@settlemint/sdk-js';

    const client = createSettleMintClient({
      accessToken: 'your_access_token',
      instance: 'https://console.settlemint.com'
    });

    const createDeployment = async () => {
      const result = await client.customDeployment.create({
        applicationId: "app-123",
        name: "my-deployment",
        imageRepository: "registry.example.com",
        imageName: "my-app",
        imageTag: "latest",
        port: 3000,
        provider: "gcp",
        region: "europe-west1",
        environmentVariables: {
          NODE_ENV: "production"
        }
      });
    };
    ```

  </Tab>
</Tabs>

## DNS Configuration for Custom Domains

When using custom domains with your Custom Deployment, you'll need to configure
your DNS settings correctly. Here's how to set it up:

1. **Add Custom Domain to the SettleMint Platform**:

   - Navigate to your Custom Deployment in the SettleMint platform.
   - In the manage custom deployment menu, click on the edit custom deployment
     action.
   - Locate the custom domains configuration section.
   - Enter your desired custom domain (e.g., example.com for top-level domain or
     app.example.com for subdomain).
   - Save the changes to update your Custom Deployment settings.

2. **Obtain Your Application's Hostname**: After adding your custom domain, the
   SettleMint platform will provide you with an ALIAS (for top-level domains) or
   CNAME (for subdomains) record. This can be found in the "Connect" tab of your
   Custom Deployment.

3. **Access Your Domain's DNS Settings**: Log in to your domain registrar or DNS
   provider's control panel.

4. **Configure DNS Records**:

   For Top-Level Domains (e.g., example.com):

   - Remove any existing A and AAAA records for the domain you're configuring.
   - Remove any existing A and AAAA records for the www domain (e.g.,
     www.example.com) if you're using it.

   ```
   ALIAS example.com gke-europe.settlemint.com
   ALIAS www.example.com gke-europe.settlemint.com
   ```

   For Subdomains (e.g., app.example.com):

   ```
   CNAME app.example.com gke-europe.settlemint.com
   ```

5. **Set TTL (Time to Live)**:

   - Set a lower TTL (e.g., 300 seconds) initially to allow for quicker
     propagation.
   - You can increase it later for better caching (e.g., 3600 seconds).

6. **Verify DNS Propagation**:

   - Use online DNS lookup tools to check if your DNS changes have propagated.
   - Note that DNS propagation can take up to 48 hours, although it's often much
     quicker.

7. **SSL/TLS Configuration**:
   - The SettleMint platform typically handles SSL/TLS certificates
     automatically for both top-level domains and subdomains.
   - If you need to use your own certificates, please contact us for assistance
     and further instructions.

Note: The configuration process is similar for both top-level domains and
subdomains. The main difference lies in the type of DNS record you create (ALIAS
for top-level domains, CNAME for subdomains) and whether you need to remove
existing records.

## Manage Custom Deployments

<Tabs items={['Platform UI', 'SDK CLI', 'SDK JS']}>
  <Tab value="Platform UI">
    1. Navigate to your application's **Custom Deployments** section
    2. Click on a deployment to:
       - View deployment status and details
       - Manage environment variables
       - Configure custom domains
       - View logs
       - Check endpoints
  </Tab>

  <Tab value="SDK CLI">
    ```bash
    # List custom deployments
    settlemint platform list custom-deployments --application my-app

    # Get deployment details
    settlemint platform read custom-deployment my-deployment

    # Restart deployment
    settlemint platform restart custom-deployment my-deployment

    # Edit deployment
    settlemint platform edit custom-deployment my-deployment \
      --container-image registry.example.com/my-app:v2
    ```

  </Tab>

  <Tab value="SDK JS">
    ```typescript
    // List deployments
    const listDeployments = async () => {
      const deployments = await client.customDeployment.list("my-app");
    };

    // Get deployment details
    const getDeployment = async () => {
      const deployment = await client.customDeployment.read("deployment-unique-name");
    };

    // Restart deployment
    const restartDeployment = async () => {
      await client.customDeployment.restart("deployment-unique-name");
    };

    // Edit deployment
    const editDeployment = async () => {
      await client.customDeployment.edit("deployment-unique-name", {
        imageTag: "v2"
      });
    };
    ```

  </Tab>
</Tabs>

## Limitations and Considerations

When using Custom Deployment, keep the following limitations in mind:

1. **No Root User Privileges**: Your application will run without root user
   privileges for security reasons.

2. **Read-Only Filesystem**: The filesystem is read-only. For data persistence,
   consider using:

   - Hasura: A GraphQL engine that provides a scalable database solution. See
     [Hasura](/building-with-settlemint/hasura-backend-as-a-service).
   - Other External Services: Depending on your specific needs, you may use
     other cloud-based storage or database services

3. **Stateless Applications**: Your applications should be designed to be
   stateless. This ensures better scalability and reliability in a cloud
   environment.

4. **Use AMD-based Images**: Currently, our platform supports AMD-based
   container images. Ensure your Docker images are built for AMD architecture to
   guarantee smooth compatibility with our infrastructure.

## Best Practices

- Design your applications to be stateless and horizontally scalable
- Use environment variables for configuration to make your deployments more
  flexible
- Implement proper logging to facilitate debugging and monitoring
- Regularly update your container images to include the latest security patches

Custom Deployment offers a powerful way to extend the capabilities of your
blockchain solutions on the SettleMint platform. By following these guidelines
and best practices, you can seamlessly integrate your custom applications into
your blockchain ecosystem.

<Callout type="info">
  Custom Deployments support automatic SSL/TLS certificate management for custom
  domains.
</Callout>
